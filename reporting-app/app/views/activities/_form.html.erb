<%= flex_form_with(model: [activity_report_application_form, activity]) do |f| %>
  <%= f.text_field :name, label: "Employer name" %>

  <%= f.select :month,
    6.times.map { |i|
      date = (Date.today - i.months).beginning_of_month
      [date.strftime("%B %Y"), date]
    }, { prompt: "- Select -" }
  %>
  
  <%= f.text_field :hours, inputmode: "decimal" %>
  
  <% if activity.supporting_documents.attached? %>
    <div class="usa-form-group">
      <label class="usa-label">Currently attached documents:</label>
      <ul class="usa-list">
        <% activity.supporting_documents.each do |document| %>
          <li>
            <%= link_to document.filename, rails_blob_path(document, disposition: "attachment"), 
                target: "_blank", class: "usa-link" %>
            (<%= number_to_human_size(document.byte_size) %>)
          </li>
        <% end %>
      </ul>
    </div>
  <% end %>
  
  <%= f.file_field :supporting_documents, multiple: true, 
      hint: activity.supporting_documents.attached? ? "Upload new documents (will replace existing ones)" : nil
  %>

  <%= f.submit "Save", big: true %>
<% end %>
