<%= flex_form_with(model: exemption_application_form, data: { turbo: false }) do |f| %>
  <%= f.radio_button :exemption_type, "short_term_hardship", { label: "Short-term Hardship", hint: "You are experiencing a short-term hardship as defined here: TODO: Add link to the definition" } %>
  <%= f.radio_button :exemption_type, "incarceration", { label: "Incarceration", hint: "You are currently incarcerated or have left incarceration within the last 3 months." } %>

  <% if exemption_application_form.supporting_documents.attached? %>
    <div class="usa-form-group">
      <label class="usa-label">Currently attached documents:</label>
      <ul class="usa-list">

      <% exemption_application_form.supporting_documents.each do |document| %>
        <li>
          <%= link_to document.filename, rails_blob_path(document, disposition: "attachment"),
            target: "_blank", class: "usa-link" %>
          (<%= number_to_human_size(document.byte_size) %>)
        </li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <%= f.file_field :supporting_documents, multiple: true,
    hint: exemption_application_form.supporting_documents.attached? ? "Upload new documents (will replace existing ones)" : nil
  %>  

  <%= f.submit "Save", big: true %>
<% end %>
